// inspiration from here - https://github.com/devcontainers/images/blob/main/src/python/.devcontainer/devcontainer.json

{
  "name": "Quotes Container",

  // Build configuration
  "build": {
      "dockerfile": "./Dockerfile",
      "context": "." // ".." would allows to reach files outside of the .dockerfile folder
  },

  // Features to be installed in the container
  "features": {
      "ghcr.io/devcontainers/features/common-utils:2":{
          "installZsh": "true",
          "username": "vscode",
          "userUid": "1000",
          "userGid": "1000",
          "upgradePackages": "true"
      },
      "ghcr.io/devcontainers/features/python:1": "none",
      "ghcr.io/devcontainers/features/node:1": "none",
      "ghcr.io/devcontainers/features/git:1": {
          "version": "latest",
          "ppa": "false"
      }
  },

// Customizations for VS Code
"customizations": {
  // Configure properties specific to VS Code.
  "vscode": {
    // Add the IDs of extensions you want installed when the container is created.
    "extensions": [
      "ms-python.black-formatter",
      "VisualStudioExptTeam.vscodeintellicode",
      "ms-python.isort",
      "ms-python.pylint",
      "streetsidesoftware.code-spell-checker",
      "batisteo.vscode-django",
      "ms-azuretools.vscode-docker",
      "eamodio.gitlens",
      "yzhang.markdown-all-in-one",
      "GitHub.github-vscode-theme"
    ],
    // Set *default* container specific settings.json values on container create.
    "settings": {
      "workbench.sideBar.location": "right",
      "workbench.colorTheme": "GitHub Dark Default",
      "editor.minimap.enabled": false,
      "editor.smoothScrolling": true,
      "editor.formatOnType": true,
      "files.trimTrailingWhitespace": true,
      "python.defaultInterpreterPath": "/usr/local/bin/python",
      "python.formatting.provider":"black",
      "[python]": {
        "editor.formatOnSave": true
      },
      "emmet.includeLanguages": {
        "django-html": "html" // allow html tag completion in django html mode https://github.com/vscode-django/vscode-django/issues/125
      }
  }
},
// Use 'forwardPorts' to make a list of ports inside the container available locally.
// "forwardPorts": [],

// Use 'postCreateCommand' to run commands after the container is created.
"postCreateCommand": "python --version",

// Set `remoteUser` to `root` to connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
"remoteUser": "vscode"
}}
